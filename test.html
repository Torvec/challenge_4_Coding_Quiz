<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test</title>
    <style>
        #question,
        #correct,
        #incorrect, 
        #end,
        #scoreboard {
            display: none;
        }
    </style>
</head>
<body>
    <header>
        <div id="score">Score: <span id="scoreValue"></span></div>
        <div id="timer">Time: <span id="timerValue">5</span></div>
        <div id="hiScore">HI Score: <span id="hiScoreValue"></span></div>
    </header>
    <main>
        <section id="start">
            <h1>JavaScript Quiz</h1>
            <p>Welcome to the JavaScript Multiple Choice Quiz! In this timed game, you'll test your knowledge of JavaScript. Each correct answer will earn you 1 point, while an incorrect answer will deduct 5 seconds from the remaining time. The game will end when either all questions are answered or the timer reaches 0. Good luck and have fun!</p>
            <button id="startGame">Start Quiz</button>
        </section>
        <section id="question">
            <h1>Question 1</h1>
            <button>Answer 1</button>
            <button id="correctBtn">Answer 2</button>
            <button>Answer 3</button>
            <button>Answer 4</button>
            <p id="correct">CORRECT!</p>
            <p id="incorrect">INCORRECT!</p>
        </section>
        <section id="end">
            <h1>Game Over!</h1>
            <p>Enter your Initials to record your score:</p>
            <input id="playerInitials" type="text" maxlength="2">
            <button id="submitScore">Submit</button>
        </section>
        <section id="scoreboard">
            <h1>Top 10 Scores</h1>
            <ol>
                <li><span id="initials_01"></span><span id="score_01"></span></li>
                <li><span id="initials_02"></span><span id="score_02"></span></li>
                <li><span id="initials_03"></span><span id="score_03"></span></li>
                <li><span id="initials_04"></span><span id="score_04"></span></li>
                <li><span id="initials_05"></span><span id="score_05"></span></li>
                <li><span id="initials_06"></span><span id="score_06"></span></li>
                <li><span id="initials_07"></span><span id="score_07"></span></li>
                <li><span id="initials_08"></span><span id="score_08"></span></li>
                <li><span id="initials_09"></span><span id="score_09"></span></li>
                <li><span id="initials_10"></span><span id="score_10"></span></li>
            </ol>
            <button id="replay">Replay</button>
            <button id="clearScores">Clear High Scores</button>
        </section>
    </main>
    <footer>
        <p>Created by Edward Von Schondorf</p>
        <p>Created May 2023 | A UC Berkley Full Stack Web Development Bootcamp Project</p>
    </footer>
    <script>
        // QUIZ APP FLOW -> START SCREEN, SCORE=0/TIMER=X/HI-SCORE=0 OR WHATEVER IS IN LOCAL STORAGE, USER PRESSES START QUIZ --> 
        // FIRST QUESTION, TIMER STARTS COUNTING DOWN, 4 MULTIPLE CHOICE BUTTONS, 1 CORRECT ANSWER = 1 POINT ADDED, 1 INCORRECT ANSWER = -5 SECS, MESSAGE DISPLAYS IF ANSWER WAS CORRECT OR INCORRECT -->
        // NEXT QUESTION, SAME AS BEFORE, BUT TIMER IS CONTINUING TO COUNTDOWN -->
        // GAME ENDS IF TIMER HITS 0 OR ALL QUESTIONS ARE ANSWERED, USER TAKEN TO GAME OVER SCREEN TO ENTER INITIALS AND SUBMIT SCORE, SCORES ARE SAVED IN LOCAL STORAGE -->
        // SCORE SCREEN SHOWS TOP 10 SCORES AND REPLAY BUTTON THAT TAKES YOU BACK TO THE START SCREEN AND A CLEAR SCORES BUTTON, IF REPLAY IS PRESSED THE SCORE IS SET TO 0, IF CLEAR SCORES BUTTON PRESSED THEN ALL OF THE SCORES ARE DELETED FROM LOCAL STORAGE
        var currentScore = document.getElementById("scoreValue");
        var hiScore = document.getElementById("hiScoreValue");
        var timerValue = document.getElementById("timerValue");
        var startScreen = document.getElementById("start");
        var startBtn = document.getElementById("startGame"); 
        var questionBlock = document.getElementById("question");
        var correctAnswer = document.getElementById("correctBtn");
        var correctMsg = document.getElementById("correct");
        var incorrectMsg = document.getElementById("incorrect");
        var endScreen = document.getElementById("end");
        var submitScoreBtn = document.getElementById("submitScore");
        var scoreScreen = document.getElementById("scoreboard");
        var replayBtn = document.getElementById("replay");
        var score = 0;
        var seconds = 5;

        hiScore.textContent = 0; 

        startBtn.addEventListener("click", startQuiz);

        replayBtn.addEventListener("click", function(){
            replay();
        })

        submitScoreBtn.addEventListener("click", function(){
            scoreList();
        });
        
        currentScore.textContent = score;
        correctAnswer.addEventListener("click", function() {
            score++
            currentScore.textContent = score;
            correctMsg.style.display = "block";
        });

        function startQuiz() {
            startScreen.style.display = "none";
            showQuestion();
            countdown();
        }

        function showQuestion() {
            questionBlock.style.display = "block";
        }

        function endQuiz() {
            questionBlock.style.display = "none";
            endScreen.style.display = "block";
        }

        function scoreList() {
            endScreen.style.display = "none";
            scoreScreen.style.display = "block";
        }

        function replay() {
            scoreScreen.style.display = "none";
            startScreen.style.display = "block";
        }

        function countdown() {
            secTimer = setInterval(function() {
                seconds --;
                timerValue.textContent = seconds;

            if (seconds === 0) {
                clearInterval(secTimer);
                endQuiz();
            }
            }, 1000);
        }
    </script>
</body>
</html>